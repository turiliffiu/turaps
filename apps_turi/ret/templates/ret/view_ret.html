{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block content %}

<div class="position-relative">
  <div class="position-absolute top-0 start-0">
      <a href="/" type="button" class="btn btn-primary">Home</a>               
  </div>
  <div class="position-absolute top-0 start-50 translate-middle-x">
      <a href="{% url 'edit_ret' %}" type="button" class="btn btn-success">Associa</a>
      <a href="{% url 'edit_cell' %}" type="button" class="btn btn-warning">Modifica Celle</a>
      <a href="{% url 'load_swapmatrix2' %}" type="button" class="btn btn-primary">Vista Nunzio</a>
      <!-- Button trigger modal -->
      <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModal">
          Elimina tutto
      </button>      
  </div>
  <div class="position-absolute top-0 end-0">
      <a href="{% url 'load_swapmatrix' %}" type="button" class="btn btn-primary">Next</a>  
  </div>
</div><br/>

<!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
  <div class="modal-content">
      <div class="modal-header">
      <h5 class="modal-title" id="exampleModalLabel">Delete</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
      
          <form method="POST">
              <!-- Security token by Django -->
              {% csrf_token %}
              Sei sicuro di voler eliminare tutto ?
              </br>
              <a href="{% url 'delete_allret' %}" class="btn btn-danger">Si</a>
              <a href="{% url 'view_ret' %}" class="btn btn-success">No</a>
          </form>

      </div>
  </div>
  </div>

</div>

<div class="row justify-content-center mt-4">
  <div class="col-10">
      <h2>Edit RET</h2>
      <div class="container text-center">




        <form method="post">
            
            {% csrf_token %}
            {{ formset.management_form }}
            <div class="table-container"> 
                
                    <table class="table table-sm table-striped table-hover">
                        <thead>
                            <tr>
                                <th> </th>
                                <th>BB</th>
                                <th>RADIO</th>
                                <th>PORT</th>
                                <th>SERIAL</th>
                                <th>CELL</th>
                                <th>SEQ</th>
                                <th>TILT</th>
                                <th>USER</th>
                                <th>DEL</th>
                            </tr>
                        </thead>
                        
                        <tbody >
                        {% for form in formset %}
                            <tr>
                                <td>{{ form.id }}</td>  {# Aggiungi il campo "id" come campo nascosto #}
                                <td>{{ form.bb }}</td>
                                <td>{{ form.radio }}</td>
                                <td>{{ form.port }}</td>
                                <td>{{ form.serial }}</td>
                                <td>{{ form.cell }}</td>
                                <td>{{ form.seq }}</td>
                                <td>{{ form.tilt }}</td>
                                <td>{{ form.utente }}</td>
                                <td>{{ form.DELETE }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
 
                    <button type="submit">Update</button>

            </div>
            
        </form>        



      </div>
    </div> 
  </div>       

{% endblock %}